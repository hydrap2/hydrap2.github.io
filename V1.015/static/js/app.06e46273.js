(function(t){function e(e){for(var i,s,o=e[0],r=e[1],c=e[2],u=0,p=[];u<o.length;u++)s=o[u],n[s]&&p.push(n[s][0]),n[s]=0;for(i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i]);h&&h(e);while(p.length)p.shift()();return a.push.apply(a,c||[]),l()}function l(){for(var t,e=0;e<a.length;e++){for(var l=a[e],i=!0,o=1;o<l.length;o++){var r=l[o];0!==n[r]&&(i=!1)}i&&(a.splice(e--,1),t=s(s.s=l[0]))}return t}var i={},n={app:0},a=[];function s(e){if(i[e])return i[e].exports;var l=i[e]={i:e,l:!1,exports:{}};return t[e].call(l.exports,l,l.exports,s),l.l=!0,l.exports}s.m=t,s.c=i,s.d=function(t,e,l){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:l})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var l=Object.create(null);if(s.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(l,i,function(e){return t[e]}.bind(null,i));return l},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],r=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var h=r;a.push([0,"chunk-vendors"]),l()})({0:function(t,e,l){t.exports=l("56d7")},"0371":function(t,e,l){"use strict";var i=l("9998"),n=l.n(i);n.a},"356a":function(t,e,l){"use strict";var i=l("e839"),n=l.n(i);n.a},"386a":function(t,e,l){"use strict";var i=l("e8ff"),n=l.n(i);n.a},5224:function(t,e,l){"use strict";var i=l("9114"),n=l.n(i);n.a},5520:function(t,e,l){"use strict";var i=l("f2b8"),n=l.n(i);n.a},"56d7":function(t,e,l){"use strict";l.r(e);l("cadf"),l("551c"),l("f751"),l("097d");var i=l("a026"),n=function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",{attrs:{id:"app"}},[l("Content",[l("router-view")],1)],1)},a=[],s=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},o=[function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",{staticClass:"header-line"},[l("div",{staticClass:"out-logo"},[l("i",{staticClass:"logo1"})]),l("div",{staticClass:"layout-logo"},[t._v("\n      水环境精细化管理决策支持系统 \n    ")]),l("div",{staticClass:"layout-right"},[l("i",{staticClass:"search"}),l("div",{staticClass:"title"},[t._v("\n      宝安管理员\n    ")]),l("i",{staticClass:"tx"}),l("div",{staticClass:"exit"})])])}],r={components:{}},c=r,h=(l("0371"),l("2877")),u=Object(h["a"])(c,s,o,!1,null,null,null),p=u.exports,v={components:{MyHeader:p}},g=v,d=(l("7c55"),Object(h["a"])(g,n,a,!1,null,null,null)),m=d.exports,f=l("8c4f"),w=function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",{staticClass:"home1",style:{height:t.contentHeight}},[t._m(0),t._m(1),l("Select",{staticClass:"select1",attrs:{clearable:""},model:{value:t.model8,callback:function(e){t.model8=e},expression:"model8"}},t._l(t.cityList,function(e){return l("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.label))])}),1),t._m(2),t._m(3),t._m(4),t._m(5),l("div",{staticClass:"mapInit"},[l("baidu-map",{staticClass:"bm-view",attrs:{id:"bm-view",center:t.center,zoom:t.zoom,"scroll-wheel-zoom":!0,"inertial-dragging":!0},on:{ready:t.handler,zoomend:t.syncCenterAndZoom,rightclick:t.clearBest}},[l("bm-navigation",{attrs:{anchor:"BMAP_ANCHOR_BOTTOM_RIGHT"}}),t.showLine&&t.showLine.length>0?l("div",[l("bm-polygon",{attrs:{path:t.polygonPath,fillColor:"rgba(182,214,248,1)","stroke-color":"rgba(182,214,248,1)","stroke-opacity":1,"stroke-weight":2,editing:!1}}),t._l(t.showLine,function(t,e){return l("bm-polygon",{key:e+"10",attrs:{path:t.pipeline,fillColor:"rgba(182,214,248,1)","stroke-color":"rgba(182,214,248,1)","stroke-opacity":1,"stroke-weight":2,editing:!1}})})],2):t._e(),t._l(t.allArr["side"],function(e,i){return l("bm-marker",{key:i+0,attrs:{position:{lng:e.lng,lat:e.lat},dragging:!1,icon:{url:"http://hydrap2.github.io/static/img/x"+e.multi+"/s"+e.level+".png",size:{width:40,height:40}},title:e.tips},on:{click:function(l){return t.change(1,e,i)}}})}),t._l(t.allArr["line"],function(e,i){return l("bm-marker",{key:i+20,attrs:{position:{lng:e.position.lng,lat:e.position.lat},dragging:!1,icon:{url:"http://hydrap2.github.io/static/img/x"+e.multi+"/l"+e.level+".png",size:{width:40,height:40}},title:e.tips},on:{click:function(l){return t.change(2,e,i)}}})}),t._l(t.allArr["point"],function(e,i){return l("bm-marker",{key:i+1e3,attrs:{position:{lng:e.lng,lat:e.lat},dragging:!1,icon:{url:"http://hydrap2.github.io/static/img/x"+e.multi+"/p"+e.level+".png",size:{width:40,height:40}},title:e.tips},on:{click:function(l){return t.change(3,e,i)}}})}),t.showLine&&t.showLine.length>0?l("div",[t._l(t.showLine,function(t,e){return l("bm-label",{key:e+"xx",attrs:{content:t.tip.content,position:{lng:t.tip.lng,lat:t.tip.lat},labelStyle:{color:"red",fontSize:"24px"},title:"Hover me"}})}),t._l(t.showLine,function(e,i){return l("zone-overlay",{key:i+"xixi",attrs:{position:{lng:e.center.lng,lat:e.center.lat},text:e},nativeOn:{mouseover:function(l){return t.selectZone(e,i)},mouseleave:function(e){return t.cancelZone(e)},click:function(l){return t.selZone(e,i)}}})})],2):t._e(),t.showPoint&&t.showPoint.length>0?l("div",t._l(t.showPoint,function(t,e){return l("tip-overlay",{key:e,attrs:{position:{lng:t.lng,lat:t.lat},text:t}})}),1):t._e(),t.showZone1?t._e():l("div")],2)],1)],1)},x=[function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",{staticClass:"left-logo"},[l("i",{staticClass:"logo"}),t._v("\n    水环境精细化管理决策支持平台\n  ")])},function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",{staticClass:"layout-right2"},[l("i",{staticClass:"search"}),l("div",{staticClass:"title"},[t._v("环境监察支队")]),l("i",{staticClass:"tx"}),l("div",{staticClass:"exit"})])},function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",{staticClass:"tipArr"},[l("div",{staticClass:"pointList"},[l("div",{staticClass:"title"},[t._v("污染源")]),l("div",{staticClass:"items"},[l("i",{staticClass:"l1"}),l("i",{staticClass:"l2"}),l("i",{staticClass:"l3"}),l("i",{staticClass:"l4"})])]),l("div",{staticClass:"lineList"},[l("div",{staticClass:"title"},[t._v("管网")]),l("div",{staticClass:"items"},[l("i",{staticClass:"l1"}),l("i",{staticClass:"l2"}),l("i",{staticClass:"l3"}),l("i",{staticClass:"l4"})])]),l("div",{staticClass:"sideList"},[l("div",{staticClass:"title"},[t._v("水环境")]),l("div",{staticClass:"items"},[l("i",{staticClass:"l1"}),l("i",{staticClass:"l2"}),l("i",{staticClass:"l3"}),l("i",{staticClass:"l4"})])])])},function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",{staticClass:"circle1"},[t._v("\n    水环境\n    "),l("br"),t._v("监控中心\n  ")])},function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",{staticClass:"circle2"},[t._v("\n    管网\n    "),l("br"),t._v("监控中心\n  ")])},function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",{staticClass:"circle3"},[t._v("\n    污染源\n    "),l("br"),t._v("监控中心\n  ")])}],y=(l("7f7f"),l("ac6a"),l("456d"),l("bd86")),b=function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("bm-overlay",{ref:"customOverlay",staticClass:"zone",attrs:{pane:"markerShadow"},on:{draw:t.draw}},[l("div")])},k=[],_={props:["text","position","active"],watch:{position:{handler:function(){},deep:!0}},methods:{draw:function(t){var e=t.el,l=t.BMap,i=t.map,n=this.position,a=n.lng,s=n.lat,o=i.pointToOverlayPixel(new l.Point(a,s));e.style.left=o.x-82+"px",e.style.top=o.y-82+"px"}}},C=_,M=(l("5224"),Object(h["a"])(C,b,k,!1,null,"79c86c39",null)),O=M.exports,A=function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("bm-overlay",{ref:"customOverlay",staticClass:"zone1",attrs:{pane:"floatPane"},on:{draw:t.draw}},[l("div",{staticClass:"arrow "}),l("div",{staticClass:"zone"},[l("div",{staticClass:"right"},[l("div",{staticClass:"title"},[t._v("xx监测点名称")]),l("div",{staticClass:"subTitle"},[t._v("实时数据")]),l("div",{staticClass:"left"},[l("p",[t._v("水位：22.20 cm")]),l("p",[t._v("流速：2.35 m/s")]),l("p",[t._v("瞬时流速：/")]),l("p",[t._v("pH：7.2")])]),l("div",{staticClass:"center"}),l("div",{staticClass:"rightl"},[l("p",[t._v("COD：10 mg/l")]),l("p",[t._v("氨氮：8.211 mg/l")]),l("p",[t._v("六价铬：0.03mg/l")]),l("p",[t._v("总磷：**mg/l")]),l("p",[t._v("总铜：**mg/l")]),l("p",[t._v("总镍：**mg/l")])])])])])},P=[],L={props:["text","position","active"],watch:{position:{handler:function(){},deep:!0}},methods:{draw:function(t){var e=t.el,l=t.BMap,i=t.map,n=this.position,a=n.lng,s=n.lat,o=i.pointToOverlayPixel(new l.Point(a,s));e.style.left=o.x-82+"px",e.style.top=o.y-82+"px"}}},z=L,j=(l("386a"),Object(h["a"])(z,A,P,!1,null,"2551dcd8",null)),B=j.exports,Z=function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("bm-overlay",{ref:"customOverlay",staticClass:"around",attrs:{pane:"labelPane"},on:{draw:t.draw}},[l("div",[l("p",[t._v(t._s(t.text.title))]),l("p",[t._v(t._s(Math.ceil(t.text.initialPrice/1e4))+"万")])])])},N=[],$={props:["text","position","active"],watch:{position:{handler:function(){this.$refs.customOverlay.reload()},deep:!0}},methods:{draw:function(t){var e=t.el,l=t.BMap,i=t.map,n=this.position,a=n.lng,s=n.lat,o=i.pointToOverlayPixel(new l.Point(a,s));e.style.left=o.x-61+"px",e.style.top=o.y-18+"px"}}},E=$,S=(l("5520"),Object(h["a"])(E,Z,N,!1,null,"1c650594",null)),T=S.exports,H=(l("4b0c"),l("5118")),I={name:"home",components:{tipOverlay:B,zoneOverlay:O,aroundOverlay:T},data:function(){return{sideIcon:{},showLine:[],showPoint:[],showLineNow:!1,allArr:{side:{1:{lng:114.045611,lat:22.510578,line:[1,2,3,4,5,6,7],point:[[1,2,3],[4,5,6,7]],level:1,multi:1,tips:"xx监测名称"},2:{lng:114.050336,lat:22.517523,line:[3,4,5,6,7],point:[[8,9,10,11,12]],level:2,multi:1,tips:"xx监测名称"},3:{lng:114.051576,lat:22.520143,line:[4,5,6,7],point:[[13,14,15,16]],level:3,multi:1,tips:"xx监测名称"},4:{lng:114.053408,lat:22.523048,line:[5,6,7],point:[[17,18,19,20,21],[22,23,24,25,26,27]],level:4,multi:1,tips:"xx监测名称"},5:{lng:114.054666,lat:22.525051,line:[7],point:[[28,29,30]],level:1,multi:1,tips:"xx监测名称"}},line:{1:{position:{lng:114.047794,lat:22.516471},far:{lng:114.046743,lat:22.517977},near:{lng:114.04845,lat:22.515724},center:{lng:114.04686,lat:22.517982},pipeline:[{lng:114.04845,lat:22.514785},{lng:114.048773,lat:22.515186},{lng:114.04721,lat:22.517957},{lng:114.046833,lat:22.517873}],tip:{lng:114.045301,lat:22.520095,content:"2家超标/共3家"},side:[1],point:[1,2,3],level:3,multi:1,tips:"xx监测名称"},2:{position:{lng:114.050417,lat:22.514683},far:{lng:114.053983,lat:22.514322},near:{lng:114.048647,lat:22.514689},center:{lng:114.053759,lat:22.514242},pipeline:[{lng:114.048576,lat:22.514618},{lng:114.054064,lat:22.514317},{lng:114.05401,lat:22.514818},{lng:114.048989,lat:22.515169}],tip:{lng:114.052169,lat:22.516237,content:"2家超标/共4家"},side:[1],point:[4,5,6,7],level:3,multi:1,tips:"xx监测名称"},3:{position:{lng:114.049483,lat:22.520344},far:{lng:114.047839,lat:22.522518},near:{lng:114.05021,lat:22.519229},center:{lng:114.047848,lat:22.522497},pipeline:[{lng:114.050633,lat:22.518324},{lng:114.050902,lat:22.518691},{lng:114.047956,lat:22.522514},{lng:114.047489,lat:22.522447}],tip:{lng:114.045786,lat:22.527014,content:"1家超标/共5家"},side:[2,1],point:[8,9,10,11,12],level:3,multi:1,tips:"xx监测名称"},4:{position:{lng:114.053714,lat:22.52145},far:{lng:114.0579,lat:22.52205},near:{lng:114.052402,lat:22.52145},center:{lng:114.057855,lat:22.522013},pipeline:[{lng:114.052339,lat:22.521295},{lng:114.057801,lat:22.521579},{lng:114.057927,lat:22.52243},{lng:114.052627,lat:22.521679}],tip:{lng:114.05476,lat:22.526246,content:"2家超标/共4家"},side:[3,2,1],point:[13,14,15,16],level:3,multi:1,tips:"xx监测名称"},5:{position:{lng:114.052205,lat:22.526557},far:{lng:114.049833,lat:22.529512},near:{lng:114.053534,lat:22.524054},center:{lng:114.049869,lat:22.529528},pipeline:[{lng:114.05392,lat:22.523882},{lng:114.049698,lat:22.529307},{lng:114.049986,lat:22.530008},{lng:114.054118,lat:22.524183}],tip:{lng:114.04698,lat:22.534024,content:"0家超标/共5家"},side:[4,3,2,1],point:[17,18,19,20,21],level:1,multi:1,tips:"xx监测名称"},6:{position:{lng:114.059382,lat:22.524817},far:{lng:114.065769,lat:22.525789},near:{lng:114.053534,lat:22.524054},center:{lng:114.065697,lat:22.525789},pipeline:[{lng:114.05392,lat:22.523882},{lng:114.065742,lat:22.525568},{lng:114.065688,lat:22.526253},{lng:114.054118,lat:22.524183}],tip:{lng:114.062719,lat:22.530052,content:"2家超标/共6家"},side:[4,3,2,1],point:[22,23,24,25,26,27,28],level:3,multi:1,tips:"xx监测名称"},7:{position:{lng:114.057271,lat:22.527125},far:{lng:114.062302,lat:22.530847},near:{lng:114.054433,lat:22.525723},center:{lng:114.061305,lat:22.530809},pipeline:[{lng:114.054873,lat:22.525919},{lng:114.055124,lat:22.525735},{lng:114.062526,lat:22.530743},{lng:114.061646,lat:22.530843}],tip:{lng:114.058637,lat:22.534899,content:"0家超标/共3家"},side:[5,4,3,2,1],point:[29,30,31],level:1,multi:1,tips:"xx监测名称"}},point:{1:{lng:114.046536,lat:22.518641,side:[1],line:[1],level:3,multi:1,tips:"xx监测名称"},2:{lng:114.045979,lat:22.517272,side:[1],line:[1],level:1,multi:1,tips:"xx监测名称"},3:{lng:114.047004,lat:22.517856,side:[1],line:[1],level:3,multi:1,tips:"xx监测名称"},4:{lng:114.053471,lat:22.514685,side:[1],line:[2],level:1,multi:1,tips:"xx监测名称"},5:{lng:114.054513,lat:22.514585,side:[1],line:[2],level:3,multi:1,tips:"xx监测名称"},6:{lng:114.054621,lat:22.513817,side:[1],line:[2],level:3,multi:1,tips:"xx监测名称"},7:{lng:114.053435,lat:22.513767,side:[1],line:[2],level:4,multi:1,tips:"xx监测名称"},8:{lng:114.047794,lat:22.523165,side:[2,1],line:[3],level:1,multi:1,tips:"xx监测名称"},9:{lng:114.047183,lat:22.52248,side:[2,1],line:[3],level:2,multi:1,tips:"xx监测名称"},10:{lng:114.048405,lat:22.522964,side:[2,1],line:[3],level:1,multi:1,tips:"xx监测名称"},11:{lng:114.048531,lat:22.522614,side:[2,1],line:[3],level:1,multi:1,tips:"xx监测名称"},12:{lng:114.048081,lat:22.521696,side:[2,1],line:[3],level:3,multi:1,tips:"xx监测名称"},13:{lng:114.057478,lat:22.522564,side:[3,2,1],line:[4],level:3,multi:1,tips:"xx监测名称"},14:{lng:114.058358,lat:22.522347,side:[3,2,1],line:[4],level:4,multi:1,tips:"xx监测名称"},15:{lng:114.058268,lat:22.521562,side:[3,2,1],line:[4],level:3,multi:1,tips:"xx监测名称"},16:{lng:114.057478,lat:22.521612,side:[3,2,1],line:[4],level:2,multi:1,tips:"xx监测名称"},17:{lng:114.049698,lat:22.529992,side:[4,3,2,1],line:[5],level:1,multi:1,tips:"xx监测名称"},18:{lng:114.04924,lat:22.529562,side:[4,3,2,1],line:[5],level:1,multi:1,tips:"xx监测名称"},19:{lng:114.04942,lat:22.528877,side:[4,3,2,1],line:[5],level:4,multi:1,tips:"xx监测名称"},20:{lng:114.050264,lat:22.528894,side:[4,3,2,1],line:[5],level:4,multi:1,tips:"xx监测名称"},21:{lng:114.050552,lat:22.529528,side:[4,3,2,1],line:[5],level:4,multi:1,tips:"xx监测名称"},22:{lng:114.065967,lat:22.52629,side:[4,3,2,1],line:[6],level:4,multi:1,tips:"xx监测名称"},23:{lng:114.066182,lat:22.525739,side:[4,3,2,1],line:[6],level:4,multi:1,tips:"xx监测名称"},24:{lng:114.066182,lat:22.525739,side:[5,4,3,2,1],line:[6],level:3,multi:1,tips:"xx监测名称"},25:{lng:114.065518,lat:22.525072,side:[4,3,2,1],line:[6],level:1,multi:1,tips:"xx监测名称"},26:{lng:114.065015,lat:22.525572,side:[4,3,2,1],line:[6],level:2,multi:1,tips:"xx监测名称"},27:{lng:114.064997,lat:22.526173,side:[4,3,2,1],line:[6],level:3,multi:1,tips:"xx监测名称"},28:{lng:114.066236,lat:22.525155,side:[5,4,3,2,1],line:[6],level:1,multi:1,tips:"xx监测名称"},29:{lng:114.061511,lat:22.531465,side:[5,4,3,2,1],line:[7],level:1,multi:1,tips:"xx监测名称"},30:{lng:114.061152,lat:22.530446,side:[5,4,3,2,1],line:[7],level:1,multi:1,tips:"xx监测名称"},31:{lng:114.062374,lat:22.530463,side:[5,4,3,2,1],line:[7],level:1,multi:1,tips:"xx监测名称"}}},polygonPath:[{lng:114.054756,lat:22.525885},{lng:114.044731,lat:22.510261},{lng:114.044695,lat:22.509393},{lng:114.045773,lat:22.509844},{lng:114.055079,lat:22.525802}],polygonPath2:[{lng:114.046527,lat:22.524951},{lng:114.049923,lat:22.518224},{lng:114.049528,lat:22.518057},{lng:114.045647,lat:22.5248}],intervalM:null,sideinterval:null,showZone1:!1,item1:{lng:114.045733,lat:22.524993,gcount:"10",zcount:"35",name:"福田区"},wait:0,contentHeight:"",showBoundary:!1,moveP:null,points:[],comPolylinePath:[{lng:114.045733,lat:22.524993},{lng:114.062405,lat:22.523651},{lng:114.045733,lat:22.514993},{lng:114.050417,lat:22.514683},{lng:114.050048,lat:22.517142},{lng:114.049761,lat:22.516474},{lng:114.045557,lat:22.510398}],mask:null,zoneGeoPoints:[{lng:114.045733,lat:22.524993,gcount:"10",zcount:"35",name:"福田区"}],zoom:17,posCity:"深圳",center:{lng:114.050443,lat:22.517876},showZone:!0,show1:!1,show2:!1,show3:!1,show4:!1,show5:!1,show6:!1,show7:!1,lushu:null,path:null,opt:null,map:null,carMk:null,drivingPoint:null,terminalPoint:null,allLine:[],myEvent:null,cityList:[{value:"COD",label:"COD"},{value:"氨氮",label:"氨氮"},{value:"PH",label:"PH"},{value:"...",label:"..."}],model8:"",constZ:15,special:null,moveLineN:null,MoveP:null}},watch:{contentHeight:function(){return"".concat(window.screen.availHeight-80,"px")}},mounted:function(){this.contentHeight="".concat(window.screen.availHeight-80,"px"),console.log(this.contentHeight),window.onresize=function(){this.contentHeight="".concat(window.screen.availHeight-80,"px")},this.myEvent=new CustomEvent("remove",{detail:{title:"This is title!"}})},methods:Object(y["a"])({moveLineNow:function(t,e){var l=this.map,i=this;Object(H["setTimeout"])(function(){i.moveLineN=new MoveLine(l,{markerRadius:2,markerColor:e,lineType:"solid",lineWidth:6,colors:e,moveRadius:5,fillColor:"#fff",shadowColor:"#fff",shadowBlur:5,data:t})},800)},addMask:function(t,e){var l=[];console.log(this.MoveLineN);var i=new BMap.Point(170.672126,81.291804),n=new BMap.Point(-169.604276,81.291804),a=new BMap.Point(-169.604276,-68.045308),s=new BMap.Point(170.672126,-68.045308);e&&e.length>0&&l.push(l[0]),l.push(i),l.push(s),l.push(a),l.push(n),l.push(i),this.mask=new BMap.Polygon(l,Object(y["a"])({strokeColor:"none",fillColor:"rgba(58, 58, 58, 0.6);",strokeOpacity:1,fillOpacity:.5},"fillColor","#000")),t.addOverlay(this.mask)},clearBest:function(){var t=this.map;window.dispatchEvent&&this.myEvent&&window.dispatchEvent(this.myEvent),console.log(t),this.mask&&t.removeOverlay(this.mask),this.mask=null,this.clearNow()},clearNow:function(){this.special=null;for(var t=this,e=this.map,l=0;l<10;l++){var i=document.getElementsByTagName("canvas");if(i&&i.length>0)for(var n=0;n<i.length;n++){var a=i[n].getContext("2d");a.clearRect(0,0,i[n].width,i[n].height),a.beginPath(),i[n].parentNode.removeChild(i[n])}}for(var s=0;s<this.allLine.length;s++)e.removeOverlay(this.allLine[s]);for(var o=1;o<Object.keys(t.allArr["side"]).length+1;o++)t.allArr["side"][o].multi=1;for(var r=1;r<Object.keys(this.allArr["line"]).length+1;r++)t.allArr["line"][r].multi=1;for(var c=1;c<Object.keys(t.allArr["point"]).length+1;c++)t.allArr["point"][c].multi=1;this.showLine=[],this.showPoint=[],this.carMk&&e.removeOverlay(this.carMk),this.intervalM&&clearInterval(this.intervalM),this.sideinterval&&clearInterval(this.sideinterval),this.showLineNow=!1,this.moveP&&clearInterval(this.moveP)},initIcon:function(){for(var t=this,e=1;e<Object.keys(t.allArr["side"]).length+1;e++)t.allArr["side"][e].multi=1;for(var l=1;l<Object.keys(this.allArr["line"]).length+1;l++)t.allArr["line"][l].multi=1;for(var i=1;i<Object.keys(t.allArr["point"]).length+1;i++)t.allArr["point"][i].multi=1},clearAll:function(){var t=this.map;t.removeOverlay(this.carMk)},change:function(t,e,l){var i=this,n=null;switch(t){case 1:n=this.moveSide;break;case 2:n=this.moveLine;break;case 3:n=this.movePoint;break}1==this.wait?(this.clearNow(),Object(H["setTimeout"])(function(){i.clearNow()},50),Object(H["setTimeout"])(function(){i.clearNow()},150),Object(H["setTimeout"])(function(){n(e,l)},200),this.wait=0):(this.wait++,Object(H["setTimeout"])(function(){i.change(t,e,l)},2e3))},moveSide:function(t,e){this.clearNow();for(var l=this,i=1;i<Object.keys(l.allArr["side"]).length+1;i++)l.allArr["side"][i].multi=1;for(var n=1;n<Object.keys(this.allArr["line"]).length+1;n++)l.allArr["line"][n].multi=1;for(var a=1;a<Object.keys(l.allArr["point"]).length+1;a++)l.allArr["point"][a].multi=1;var s=this.map;s.removeOverlay(this.carMk);for(var o=0;o<this.allLine.length;o++)s.removeOverlay(this.allLine[o]);this.showLine.splice(0,this.showLine.length),this.showPoint.splice(0,this.showPoint.length),this.showPoint.push(this.allArr["side"][e]),this.showLineNow=!1,this.$forceUpdate(),this.allArr["side"][e].multi=2;var r=0;this.moveP=setInterval(function(){r++,l.allArr["side"][e].multi=r%2==0?2:3},300),t.multi=2;for(var c=[],h=[],u="blue",p=[],v=0;v<t.line.length;v++){var g=[];switch(this.allArr["line"][t["line"][v]].level){case 1:u="green";break;case 2:u="orange";break;case 3:u="red";break;case 4:u="gray";break}g.push(this.allArr["line"][t["line"][v]].far),h.push(this.allArr["line"][t["line"][v]].far),p.push(u),g.push(this.allArr["line"][t["line"][v]].near),h.push(this.allArr["line"][t["line"][v]].near),p.push(u),g.push({lng:t.lng,lat:t.lat}),h.push({lng:t.lng,lat:t.lat}),p.push(u),l.showLine.push(this.allArr["line"][t["line"][v]]),c.push(g)}l.showLineNow=!0,this.$forceUpdate(),this.points=h,!this.mask&&this.addMask(s),this.allLine.push(h);this.openAutoDrive(c,p,1)},moveLine:function(t,e){this.clearNow();for(var l=this,i=1;i<Object.keys(l.allArr["side"]).length+1;i++)l.allArr["side"][i].multi=1;for(var n=1;n<Object.keys(this.allArr["line"]).length+1;n++)l.allArr["line"][n].multi=1;for(var a=1;a<Object.keys(l.allArr["point"]).length+1;a++)l.allArr["point"][a].multi=1;var s=this.map;s.removeOverlay(this.carMk);for(var o=0;o<this.allLine.length;o++)s.removeOverlay(this.allLine[o]);this.showPoint.splice(0,this.showPoint.length),this.showPoint.push(this.allArr["line"][e].position),this.showLine.splice(0,this.showLine.length),this.showLineNow=!1,this.$forceUpdate(),this.allArr["line"][e].multi=2;var r=0;this.moveP=setInterval(function(){r++,l.allArr["line"][e].multi=r%2==0?2:3},300),t.multi=2;var c=[],h=[],u="blue";switch(t.level){case 1:u="green";break;case 2:u="orange";break;case 3:u="red";break;case 4:u="gray";break}c.push(t.far),h.push(u),l.showLine.push(t),this.$forceUpdate(),c.push(t.near),h.push(u);for(var p=0;p<t.side.length;p++)c.push({lng:this.allArr["side"][t["side"][p]].lng,lat:this.allArr["side"][t["side"][p]].lat}),h.push(u);this.points=c,2==e&&(this.special=2),!this.mask&&this.addMask(s),this.showLineNow=!0,this.allLine.push(c),this.openAutoDrive(c,h,2)},movePoint:function(t,e){this.clearNow();for(var l=this,i=1;i<Object.keys(l.allArr["side"]).length+1;i++)l.allArr["side"][i].multi=1;for(var n=1;n<Object.keys(this.allArr["line"]).length+1;n++)l.allArr["line"][n].multi=1;for(var a=1;a<Object.keys(l.allArr["point"]).length+1;a++)l.allArr["point"][a].multi=1;var s=this.map;s.removeOverlay(this.carMk);for(var o=0;o<this.allLine.length;o++)s.removeOverlay(this.allLine[o]);this.showPoint.splice(0,this.showPoint.length),this.showPoint.push(this.allArr["point"][e]),this.showLine&&this.showLine.length>0&&this.showLine.splice(0,this.showLine.length),this.showLineNow=!1,this.$forceUpdate(),this.allArr["point"][e].multi=2;var r=0;this.moveP=setInterval(function(){r++,l.allArr["point"][e].multi=r%2==0?2:3},300),t.multi=2;var c=[],h=[],u="blue";switch(t.level){case 1:u="green";break;case 2:u="orange";break;case 3:u="red";break;case 4:u="gray";break}c.push({lng:t.lng,lat:t.lat}),h.push(u),this.showLine.push(this.allArr["line"][t["line"][0]]),this.$forceUpdate(),c.push(this.allArr["line"][t["line"][0]].near),h.push(u);for(var p=0;p<t.side.length;p++)c.push({lng:this.allArr["side"][t["side"][p]].lng,lat:this.allArr["side"][t["side"][p]].lat}),h.push(u);this.points=c,console.log("xixi",this.points),2==t["line"][0]&&(this.special=2),!this.mask&&this.addMask(s),this.allLine.push(c),this.$forceUpdate();this.showLineNow=!0,this.openAutoDrive(c,h,3)},checkMove:function(t,e,l){switch(t){case 1:break;case 2:break;case 3:break}},openAutoDrive:function(t,e,l){this.showZone1=!0;var i=this.map;if(t&&t.length>0){var n=t,a=i.getViewport(this.points);this.special&&2==this.special?i.centerAndZoom(a.center,a.zoom-1):i.centerAndZoom(a.center,a.zoom),this.drivingPoint=new BMap.Icon("http://hydrap2.github.io/static/img/x2/p1.png",new BMap.Size(52,26),{anchor:new BMap.Size(27,13),imageSize:new BMap.Size(52,26)});var s=[];if(console.log(n),1==l){for(var o=0;o<n.length;o++)for(var r=0;r<n[o].length;r++)if(n[o][r+1]){var c={0:n[o][r],1:n[o][r+1]};s.push(c)}}else for(var h=0;h<n.length;h++)if(n[h+1]){c={0:n[h],1:n[h+1]};s.push(c)}this.moveLineNow(s,e),this.showZone=!1,this.showZone1=!0}},drowLine:function(t,e,l,i,n,a){if(void 0!=l){var s=[{0:e,1:l}];this.moveLineNow(s,n),i.addMarkerEnd(a,new BMap.Point(l.lng,l.lat),"小车行驶",t,l,new BMap.Point(e.lng,e.lat))}else i.addMarkerEnd(a,new BMap.Point(e.lng,e.lat),"终点",t)},addStartMarker:function(t,e,l){if("起点"==e){var i=new BMap.Icon("../../assets/png/point/pgreen.png",new BMap.Size(45,45),{anchor:new BMap.Size(20,45),imageSize:new BMap.Size(45,45)});window.marker=new BMap.Marker(t,{icon:i}),l.addOverlay(marker)}},addMarkerEnd:function(t,e,l,i,n,a){"小车行驶"==l?(this.carMk&&i.removeOverlay(this.carMk),this.carMk=new BMap.Marker(e,{icon:null}),this.carMk.setRotation(n.route),i.addOverlay(this.carMk)):(i.removeOverlay(this.carMk),i.addOverlay(this.carMk))},getAngle:function(t,e){var l,i=t.lat/180*Math.PI,n=t.lng/180*Math.PI,a=e.lat/180*Math.PI,s=e.lng/180*Math.PI;l=4*Math.pow(Math.sin((i-a)/2),2)-Math.pow(Math.sin((n-s)/2)*(Math.cos(i)-Math.cos(a)),2),l=Math.sqrt(l);var o=Math.sin((n-s)/2)*(Math.cos(i)+Math.cos(a));return console.log(o),l/=o,l=Math.atan(l)/Math.PI*180,l+=90,n-s<0?i-a<0||(l=180-l):l=i-a<0?180+l:-l,l},update:function(t){this.points=t.target.cornerPoints},handleClick:function(){console.log("我点击了"),this.$router.push("test")},selectZone:function(t,e){this.zoneBoundary="".concat(this.posCity).concat(t.name),this.showTip={lng:t.tip.lng,lat:t.tip.lat,content:t.tip.content},this.showBoundary=!0},cancelZone:function(t){this.zoneBoundary="",this.showBoundary=!1},syncCenterAndZoom:function(t){this.zoom=t.target.getZoom(),this.showZone=this.zoom<this.constZ},handler:function(t){var e=t.map;this.map=e},selZone:function(t,e){this.showZone=!1,this.$set(this.center,"lng",t.lng),this.$set(this.center,"lat",t.lat),this.zoneBoundary="",this.showBoundary=!1,this.zoom=17}},"syncCenterAndZoom",function(t){if(this.zoom=t.target.getZoom(),this.zoom>this.constZ){this.showZone=!1,this.showZone1=!1;var e=t.target.getCenter();e.lng,e.lat}else this.showZone=!0})},D=I,U=(l("356a"),Object(h["a"])(D,w,x,!1,null,"5b59ba1a",null)),R=U.exports;i["default"].use(f["a"]);var G=new f["a"]({mode:"hash",base:"",routes:[{path:"/",name:"home",component:R}]}),q=l("2f62");i["default"].use(q["a"]);var J=new q["a"].Store({state:{},mutations:{},actions:{}}),V=l("e069"),F=l.n(V),W=(l("dcad"),l("bd0c")),X=l.n(W);i["default"].use(X.a,{ak:"7S0zO3f01VD2t4yYFsGq4pGHzoGcxXgC"}),i["default"].use(F.a),i["default"].config.productionTip=!1,new i["default"]({router:G,store:J,render:function(t){return t(m)}}).$mount("#app")},"5c48":function(t,e,l){},"7c55":function(t,e,l){"use strict";var i=l("5c48"),n=l.n(i);n.a},9114:function(t,e,l){},9998:function(t,e,l){},e839:function(t,e,l){},e8ff:function(t,e,l){},f2b8:function(t,e,l){}});